//- src/views/books.pug
extends layout

block content
  .flex.items-center.justify-between.mb-6
    h1.text-3xl.font-bold Livres
    if user
      span.text-sm.text-gray-600 Bonjour #{user.username}

  .bg-white.rounded.shadow.p-6
    h2.text-xl.font-semibold.mb-4 Ajouter un livre
    form(method="post", action="/books", class="space-y-3")
      div(class="grid grid-cols-1 md:grid-cols-2 gap-3")
        input(type="text", name="title", placeholder="Titre", required, class="border rounded p-2 w-full")
        input(type="text", name="author", placeholder="Auteur", required, class="border rounded p-2 w-full")
      button(type="submit", class="border rounded px-4 py-2") Ajouter

  .bg-white.rounded.shadow.p-6.mt-6
    h2.text-xl.font-semibold.mb-4 Liste des livres
    if books && books.length
      ul.divide-y
        each b in books
          li.py-3.flex.items-center.justify-between
            span #{b.title} â€” #{b.author}
            form(method="post", action='/books/' + b.id + '/delete')
              button(type="submit", class="text-sm hover:underline") Supprimer
    else
      p.text-gray-500 Aucun livre pour le moment.
